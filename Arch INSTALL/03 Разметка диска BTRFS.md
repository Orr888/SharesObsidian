# Разметка диска BTRFS

## 1. Создаем загрузочный раздел 
- Раздел должен быть минимум 100 мегобайт максимум 1 Gb и форматируем под FAT32 если это UEFI GPT или EFI ESP. Если BIOS MBR то загрузочного раздела создавать не нужно.
- `mount /dev/sda1 /mnt/boot` (Монтируем)

## 2. Создаем BTRFS раздел. 
- `cfdisk` (Отводим весь диск под систему и делаем `Bootable`. Далее: `Write`  и  `Quit`
- `mkfs.btrfs /dev/sda2 -f` (Отформатировали)
- `mount /dev/sda2 /mnt` (Монтируем)
- `cd /mnt`  Перехоим в монтированный раздел чтобы создать субволюм. (Проверяем: `df -h`)
- `btrfs subvolume create @` Создаем subvolume @. Выходит сообщение: Create subvolume './@'
- `cd /` Выходим из /mnt, `umount /dev/sda2` размонтируем его.
- Монтируем subvolume с компресией и автодефрагиентацией если дисk не SSD, если SSD то вместо автодефраг подключаем ssd. 
```
mount -o compress=zstd,autodefrag,subvol=@ /dev/sda2 /mnt
```
- Проверяем `fdisk -l` бутабле
- Можно ещё `lsblk` или `df -h`
- Теперь можно устанавливать линукс.
